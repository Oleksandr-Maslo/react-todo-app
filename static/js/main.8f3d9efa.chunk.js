(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{18:function(e,t,c){},19:function(e,t,c){},20:function(e,t,c){},22:function(e,t,c){"use strict";c.r(t);var n,o=c(1),r=c.n(o),l=c(7),s=(c(18),c(19),c(20),c(2)),i=c(3),a=c(8),d=c.n(a),u=c(0),j=function(e){var t=e.todo,c=e.todos,n=e.setTodos,r=Object(o.useState)(null),l=Object(s.a)(r,2),a=l[0],j=l[1],b=Object(o.useState)(t.title),f=Object(s.a)(b,2),O=f[0],p=f[1];function m(e){var t=c.filter((function(t){return t.id!==e}));n(t)}function h(e){var o;O!==e.title?O.trim().length>0?(o=c.map((function(t){return t.id===e.id?Object(i.a)(Object(i.a)({},t),{},{title:O}):t})),n(o),j(null)):m(t.id):j(null)}return Object(u.jsxs)("li",{"data-id":t.id,className:d()({completed:t.completed,editing:t.id===a}),onDoubleClick:function(){return j(t.id)},children:[Object(u.jsxs)("div",{className:"view",children:[Object(u.jsx)("input",{type:"checkbox",className:"toggle",id:"toggle-view",checked:t.completed,onChange:function(){return function(e){var t=c.map((function(t){return t.id===e.id?Object(i.a)(Object(i.a)({},t),{},{completed:!e.completed}):t}));n(t)}(t)}}),Object(u.jsx)("label",{htmlFor:"title",children:Object(u.jsx)("div",{id:"title",children:t.title})}),Object(u.jsx)("button",{type:"button",className:"destroy","data-cy":"deleteTodo",onClick:function(){return m(t.id)}})]}),t.id===a&&Object(u.jsx)("input",{type:"text",className:"edit",value:O,onChange:function(e){return p(e.target.value)},onBlur:function(){return h(t)},onKeyDown:function(e){"Enter"===e.key&&h(t),"Escape"===e.key&&j(null)},autoFocus:!0})]})};!function(e){e[e.ALL=0]="ALL",e[e.ACTIVE=1]="ACTIVE",e[e.COMPLETED=2]="COMPLETED"}(n||(n={}));var b=r.a.createContext({todos:[],filteredTodos:[],filterType:n.ALL,setTodos:function(){},setFilterType:function(){}}),f=function(){var e=Object(o.useContext)(b),t=e.filteredTodos,c=e.todos,n=e.setTodos;return Object(u.jsxs)("section",{className:"main",children:[Object(u.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",onClick:function(){return function(){var e;e=c.some((function(e){return!e.completed}))?c.map((function(e){return e.completed?e:Object(i.a)(Object(i.a)({},e),{},{completed:!0})})):c.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{completed:!1})})),n(e)}()},defaultChecked:c.every((function(e){return e.completed}))}),Object(u.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(u.jsx)("ul",{className:"todo-list","data-cy":"todosList",children:t.map((function(e){return Object(u.jsx)(j,{todos:c,todo:e,setTodos:n},e.id)}))})]})},O=c(9),p=function(){var e=Object(o.useContext)(b),t=e.todos,c=e.setTodos,n=Object(o.useState)(""),r=Object(s.a)(n,2),l=r[0],i=r[1],a=+new Date;return Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("h1",{children:"todos"}),Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),function(){if(l.trim().length){var e={title:l,id:a,completed:!1};c([].concat(Object(O.a)(t),[e])),i("")}}()},children:Object(u.jsx)("input",{type:"text","data-cy":"createTodo",className:"new-todo",placeholder:"What needs to be done?",value:l,onChange:function(e){return i(e.target.value)}})})]})},m=function(){var e=Object(o.useContext)(b),t=e.filterType,c=e.setFilterType,r=function(e){return function(){return c(e)}};return Object(u.jsxs)("ul",{className:"filters","data-cy":"todosFilter",children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"#/",className:t===n.ALL?"selected":"",onClick:r(n.ALL),children:"All"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"#/active",className:t===n.ACTIVE?"selected":"",onClick:r(n.ACTIVE),children:"Active"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"#/completed",className:t===n.COMPLETED?"selected":"",onClick:r(n.COMPLETED),children:"Completed"})})]})},h=function(){var e=Object(o.useContext)(b),t=e.todos,c=e.setTodos;return Object(u.jsxs)("footer",{className:"footer",children:[Object(u.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(t.filter((function(e){return!e.completed})).length," items left")}),Object(u.jsx)(m,{}),t.some((function(e){return e.completed}))&&Object(u.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){var e=t.filter((function(e){return!e.completed}));c(e)},children:"Clear completed"})]})};var x=function(){var e=function(e,t){var c=Object(o.useState)(t),n=Object(s.a)(c,2),r=n[0],l=n[1];return Object(o.useEffect)((function(){var t=localStorage.getItem(e);t&&l(JSON.parse(t))}),[]),[r,function(t){localStorage.setItem(e,JSON.stringify(t)),l(t)}]}("todos",[]),t=Object(s.a)(e,2),c=t[0],r=t[1],l=Object(o.useState)(n.ALL),i=Object(s.a)(l,2),a=i[0],d=i[1],j=c.length>0,O=function(e,t){switch(e){case n.ACTIVE:return t.filter((function(e){return!e.completed}));case n.COMPLETED:return t.filter((function(e){return e.completed}));case n.ALL:default:return t}}(a,c)||[];return Object(u.jsx)("div",{className:"todoapp",children:Object(u.jsxs)(b.Provider,{value:{todos:c,filteredTodos:O,filterType:a,setTodos:r,setFilterType:d},children:[Object(u.jsx)(p,{}),j&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(f,{}),Object(u.jsx)(h,{})]})]})})},v=document.getElementById("root");Object(l.createRoot)(v).render(Object(u.jsx)(x,{}))}},[[22,1,2]]]);
//# sourceMappingURL=main.8f3d9efa.chunk.js.map